{
  "version": 3,
  "sources": [
    "../arceus/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/Mask.js",
    "src/Pattern.js",
    "src/days.js",
    "src/errors/src/InvalidDateError.js",
    "src/errors/src/InvalidMaskError.js",
    "src/errors/src/InvalidOperationError.js",
    "src/errors/src/InvalidPatternError.js",
    "src/errors/src/NotSupportedError.js",
    "src/index.js",
    "src/type.js",
    "src/util.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import InvalidMaskError from './errors/InvalidMaskError';\nimport {\n  durationToDays,\n  getDate,\n  getString,\n  plusDays,\n  repeat,\n  validateDate\n} from './util';\n\nexport default class Mask {\n  /**\n   * A mask contains a start date and a series of 1s and 0s where a 1 represents\n   * an occurrence. A mask always starts and ends with a 1. It may also contain a\n   * single 1 if there is only one occurrence.\n   * @param {String} mask\n   */\n  constructor( mask ) {\n    this.value = mask || '';\n    this.start_date = null;\n\n    if ( this.value ) {\n      var parts = this.value.split( '|' );\n      if ( parts.length !== 2 ) {\n        throw new InvalidMaskError( 'Mask is invalid. Expected format [yyyy-mm-dd]|[mask] but found \"' + this.value + '\".' );\n      }\n      validateDate( parts[0] );\n      this.start_date = parts[0];\n      if ( parts[1][0] !== '1' ) {\n        throw new InvalidMaskError( 'Mask format is invalid. Mask value should begin with a \"1\".' );\n      }\n      if ( parts[1][ parts[1].length - 1 ] !== '1' ) {\n        throw new InvalidMaskError( 'Mask format is invalid. Mask value should end with a \"1\".' );\n      }\n    }\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n\n  toString() {\n    return this.value;\n  }\n\n  /**\n   * @param {Mask|String} mask\n   * @returns {Mask}\n   */\n  or( mask ) {\n    return this._op( mask, ( a, b ) => {\n      return Boolean( Number( a ) ) | Boolean( Number( b ) );\n    });\n  }\n\n  /**\n   * @param {Mask|String} mask\n   * @returns {Mask}\n   */\n  and( mask ) {\n    return this._op( mask, ( a, b ) => {\n      return Boolean( Number( a ) ) & Boolean( Number( b ) );\n    });\n  }\n\n  /**\n   * @param {Mask|String} mask\n   * @returns {Mask}\n   */\n  xor( mask ) {\n    return this._op( mask, ( a, b ) => {\n      return Boolean( Number( a ) ) ^ Boolean( Number( b ) );\n    });\n  }\n\n  /**\n   * @param {Mask|String} mask\n   * @returns {Mask}\n   */\n  not( mask ) {\n    return this._op( mask, ( a, b ) => {\n      if ( Boolean( Number( b ) ) ) {\n        return 0;\n      } else {\n        return Number( Boolean( Number( a ) ) );\n      }\n    });\n  }\n\n  /**\n   * @param {String} date\n   * @returns {Boolean}\n   */\n  matches( date ) {\n    if ( !this.value ) {\n      return false;\n    }\n    var values = this.value.split( '|' );\n    var start = values[0];\n    if ( date < start ) {\n      return false;\n    }\n    var index = durationToDays( getDate( date ) - getDate( start ) );\n    return values[1][ index ] === '1';\n  }\n\n  /**\n   * @returns {Array.<String>}\n   */\n  getDates() {\n    if ( !this.value ) {\n      return [];\n    }\n    var dates = [];\n    var values = this.value.split( '|' );\n    var start = values[0];\n    dates.push( start );\n    start = getDate( start );\n    var days = values[1].split( '' );\n    var length = days.length;\n    for ( var i = 1; i < length; i++ ) {\n      if ( days[ i ] === '1' ) {\n        dates.push( getString( plusDays( start, i ) ) );\n      }\n    }\n    return dates;\n  }\n\n  /**\n   * @returns {Array.<String>|null}\n   */\n  getRange() {\n    if ( !this.value ) {\n      return null;\n    }\n    var values = this.value.split( '|' );\n    var start = getDate( values[0] );\n    var end = plusDays( start, values[1].length - 1 );\n    return [ getString( start ), getString( end ) ];\n  }\n\n  /**\n   * @param {String} date\n   * @returns {Mask}\n   */\n  addDate( date ) {\n    return this.or( date + '|1' );\n  }\n\n  /**\n   * @param {String} date\n   * @returns {Mask}\n   */\n  removeDate( date ) {\n    return this.not( date + '|1' );\n  }\n\n  /**\n   * @param {String} date\n   * @param {Boolean} [state]\n   * @returns {Mask}\n   */\n  toggleDate( date, state ) {\n    if ( state === undefined ) {\n      if ( this.matches( date ) ) {\n        return this.removeDate( date );\n      } else {\n        return this.addDate( date );\n      }\n    } else {\n      if ( state ) {\n        return this.addDate( date );\n      } else {\n        return this.removeDate( date );\n      }\n    }\n  }\n\n  _op( mask, op ) {\n    var masks = Mask.commonalize( this.value, mask );\n    if ( !masks[0] ) {\n      return new Mask();\n    }\n    var a = masks[0].split( '|' )[1].split( '' );\n    var b = masks[1].split( '|' )[1].split( '' );\n    var result = [];\n    var length = a.length;\n    for ( var i = 0; i < length; i++ ) {\n      result[ i ] = op( a[ i ], b[ i ] );\n    }\n    return new Mask( Mask.trim( masks[0].split( '|' )[0] + '|' + result.join( '' ) ), false );\n  };\n\n  /**\n   * @param {Array.<String>} dates\n   * @returns {Mask}\n   */\n  static fromDates( dates ) {\n    if ( !dates || !dates.length ) {\n      return new Mask();\n    }\n    dates = dates.slice().sort();\n    var start = dates[0];\n    var mask = '1';\n    var length = dates.length;\n    for ( var i = 1; i < length; i++ ) {\n      mask += repeat( '0', durationToDays( getDate( dates[ i ] ) - getDate( dates[ i - 1 ] ) ) - 1 );\n      mask += '1';\n    }\n    return new Mask( start + '|' + mask );\n  }\n\n  /**\n   * Trims the mask. Any leading and trailing zeros are removed, and the start\n   * date is updated accordingly.\n   * @param {String} mask\n   * @returns {String}\n   */\n  static trim( mask ) {\n    if ( !mask || mask.indexOf( '1' ) === -1 ) {\n      return '';\n    } else {\n      var parts = mask.split( '|' );\n      var start = parts[0];\n      var value = parts[1];\n      if ( value.indexOf( '1' ) === -1 ) {\n        return '';\n      } else if ( value[0] === '1' && value[ value.length - 1 ] === '1' ) {\n        return mask;\n      } else {\n        start = getString( plusDays( getDate( start ), value.indexOf( '1' ) ) );\n        value = value.substring( value.indexOf( '1' ), value.lastIndexOf( '1' ) + 1 );\n        return start + '|' + value;\n      }\n    }\n  }\n\n  /**\n   * Takes two masks and returns two new masks with the same start and end dates\n   * Note that these masks are potentially invalid since they are untrimmed. To\n   * trim them, use Mask.trim().\n   * @param {Mask|String} maskA\n   * @param {Mask|String} maskB\n   * @returns {Array.<String>}\n   */\n  static commonalize( maskA, maskB ) {\n    maskA = maskA && maskA.toString();\n    maskB = maskB && maskB.toString();\n    var a = !!maskA && maskA.split( '|' );\n    var b = !!maskB && maskB.split( '|' );\n    if ( !a && !b ) {\n      return [ '', '' ];\n    }\n    if ( !a ) {\n      a = [ b[0], repeat( '0', b[1].length ) ];\n    } else if ( !b ) {\n      b = [ a[0], repeat( '0', a[1].length ) ];\n    }\n    var diff;\n    if ( a[0] < b[0] ) {\n      diff = durationToDays( getDate( b[0] ) - getDate( a[0] ) );\n      a[1] += repeat( '0', diff );\n      b[1] = repeat( '0', diff ) + b[1];\n      b[0] = a[0];\n    } else if ( b[0] < a[0] ) {\n      diff = durationToDays( getDate( a[0] ) - getDate( b[0] ) );\n      b[1] += repeat( '0', diff );\n      a[1] = repeat( '0', diff ) + a[1];\n      a[0] = b[0];\n    }\n    if ( a[1].length < b[1].length ) {\n      a[1] += repeat( '0', b[1].length - a[1].length );\n    }\n    if ( b[1].length < a[1].length ) {\n      b[1] += repeat( '0', a[1].length - b[1].length );\n    }\n    return [ a.join( '|' ), b.join( '|' ) ];\n  }\n};\n",
    "import DAYS from './days';\nimport TYPE from './type';\nimport {\n  dayOfWeekMaskToArray,\n  durationToDays,\n  durationToWeeks,\n  extend,\n  find,\n  findIndex,\n  getDate,\n  getDayOfWeekFlag,\n  getString,\n  getSunday,\n  hasFlag,\n  normalizeDirection,\n  plusDays,\n  plusWeeks,\n  repeat,\n  validateDate\n} from './util';\nimport InvalidPatternError from './errors/InvalidPatternError';\nimport InvalidOperationError from './errors/InvalidOperationError';\nimport NotSupportedError from './errors/NotSupportedError';\nimport Mask from './Mask';\n\nexport default class Pattern {\n  /**\n   * @param {PatternJson} [pattern]\n   */\n  constructor( pattern ) {\n    this.value = extend({\n      start_date: null,\n      end_date: null,\n      type: null,\n      day_of_week_mask: null,\n      day_of_month: null,\n      month_of_year: null,\n      interval: null,\n      instance: null,\n      exceptions: []\n    }, pattern );\n    this._validated = false;\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  validate() {\n    if ( this._validated ) {\n      return this;\n    }\n    this._validatePeriod();\n    this._validateType();\n    this._validateDayOfWeekMask();\n    this._validateInterval();\n    this._validateExceptions();\n    this._validated = true;\n    return this;\n  }\n\n  /**\n   * @param {Number} interval\n   * @returns {Pattern}\n   */\n  every( interval ) {\n    this._validated = false;\n    this.value.interval = interval || 1;\n    return this;\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  day() {\n    this._validated = false;\n    this.value.type = TYPE.Daily;\n    this.value.day_of_week_mask = null;\n    this.value.instance = null;\n    return this;\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  days() {\n    return this.day();\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  week() {\n    this._validated = false;\n    this.value.type = TYPE.Weekly;\n    return this;\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  weeks() {\n    return this.week();\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  month() {\n    this._validated = false;\n    if ( this.value.instance ) {\n      this.value.type = TYPE.MonthNth;\n    } else {\n      this.value.type = TYPE.Monthly;\n      this.value.day_of_week_mask = null;\n    }\n    return this;\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  months() {\n    return this.month();\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  year() {\n    this._validated = false;\n    if ( this.value.instance ) {\n      this.value.type = TYPE.YearNth;\n    } else {\n      this.value.type = TYPE.Yearly;\n      this.value.day_of_week_mask = null;\n    }\n    return this;\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  years() {\n    return this.year();\n  }\n\n  /**\n   * @param {Number} dayOfWeekMask\n   * @returns {Pattern}\n   */\n  on( dayOfWeekMask ) {\n    this._validated = false;\n    this.value.day_of_week_mask = dayOfWeekMask;\n    this.value.instance = null;\n    return this;\n  }\n\n  /**\n   * @param {Number} instance\n   * @param {Number} dayOfWeek\n   * @returns {Pattern}\n   */\n  the( instance, dayOfWeek ) {\n    this._validated = false;\n    this.value.instance = instance;\n    this.value.day_of_week_mask = dayOfWeek;\n    return this;\n  }\n\n  /**\n   * @param {Number} dayOfMonth\n   * @returns {Pattern}\n   */\n  dayOfMonth( dayOfMonth ) {\n    this._validated = false;\n    this.value.instance = null;\n    this.value.day_of_month = dayOfMonth;\n    return this;\n  }\n\n  /**\n   * @param {String} date\n   * @returns {Pattern}\n   */\n  from( date ) {\n    this._validated = false;\n    this.value.start_date = date;\n    return this;\n  }\n\n  /**\n   * @param {String} date\n   * @returns {Pattern}\n   */\n  to( date ) {\n    this._validated = false;\n    this.value.end_date = date;\n    return this;\n  }\n\n  /**\n   * @param {String} date\n   * @param {String} newDate\n   * @returns {Pattern}\n   */\n  addException( date, newDate ) {\n    this._validated = false;\n    var exception = find( this.value.exceptions, function( exception ) {\n      return exception.original_date === date;\n    });\n    if ( !exception ) {\n      exception = {};\n      this.value.exceptions.push( exception );\n    }\n    exception.original_date = date;\n    exception.date = newDate;\n    return this;\n  }\n\n  /**\n   * @param {String} date\n   * @returns {Pattern}\n   */\n  removeException( date ) {\n    this._validated = false;\n    var index = findIndex( this.value.exceptions, function( exception ) {\n      return exception.original_date === date;\n    });\n    if ( index > -1 ) {\n      this.value.exceptions.splice( index, 1 );\n    }\n    return this;\n  }\n\n  /**\n   * @returns {Pattern}\n   */\n  removeAllExceptions() {\n    this._validated = false;\n    this.value.exceptions = [];\n    return this;\n  }\n\n  /**\n   * @param {String} date\n   * @returns {Pattern}\n   */\n  findException( date ) {\n    return find( this.value.exceptions, function( exception ) {\n      return exception.original_date === date;\n    });\n  }\n\n  /**\n   * Determines whether the specified date occurs in the recurrence pattern.\n   * @param {String} date\n   * @returns {Boolean}\n   */\n  matches( date ) {\n    this.validate();\n    if ( this._exceptionsByDate[ date ] ) {\n      return true;\n    }\n    if ( this._moved[ date ] ) {\n      return false;\n    }\n    if ( !this._doesOccurWithinPeriod( date ) ) {\n      return false;\n    }\n    switch ( this.value.type ) {\n      case TYPE.Daily:\n        return this._doesMatchDailyInterval( getDate( date ) );\n      case TYPE.Weekly:\n        return (\n          this._doesMatchDayOfWeek( getDate( date ) ) &&\n          this._doesMatchWeeklyInterval( getDate( date ) )\n        );\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * Gets the recurrence pattern as a plain old JSON object.\n   * @returns {PatternJson}\n   */\n  toJSON() {\n    return this.value;\n  }\n\n  /**\n   * @param {String} [end]\n   * @returns {Mask}\n   */\n  toMask( end ) {\n    end = end || this.value.end_date;\n    if ( !end ) {\n      throw new InvalidOperationError( 'An end date is required to generate a mask.' );\n    }\n    var mask = '';\n    var last, next;\n    while ( next = this.next( last ) ) {\n      if ( next > end ) {\n        break;\n      }\n      var days = durationToDays( getDate( next ) - getDate( last || this.value.start_date ) );\n      if ( last ) {\n        days -= 1;\n      }\n      mask += repeat( '0', days );\n      mask += '1';\n      last = next;\n    }\n    if ( mask ) {\n      return new Mask( Mask.trim( this.value.start_date + '|' + mask ) );\n    } else {\n      return new Mask();\n    }\n  };\n\n  /**\n   * Gets the next occurrence or exception in the recurrence pattern after the\n   * specified date or returns false if there are no more occurrences.\n   * @param {String} [start] The date to search from.\n   * @param {Number} [direction]\n   *   A value indicating direction. Positive goes forward, negative goes backward.\n   * @returns {String|Boolean}\n   */\n  next( start, direction ) {\n    this.validate();\n    if ( typeof start !== \"string\" ) {\n      direction = start;\n      start = getString( plusDays( getDate( this.value.start_date ), -1 ) );\n    }\n    var date = start;\n    while ( true ) {\n      date = getString( this._getNextOccurrence( getDate( date ), normalizeDirection( direction ) ) );\n      if ( this._doesOccurWithinPeriod( date ) ) {\n        // See if there's an exception for this date.\n        var exception = this._exceptionsByOriginalDate[ date ];\n        if ( exception ) {\n          if ( exception.date ) {\n            return date;\n          } else {\n            // This occurence was deleted. Get the next one.\n          }\n        } else {\n          return date;\n        }\n      } else {\n        // We're outside the range of the recurrence pattern.\n        return false;\n      }\n    }\n  }\n\n  /**\n   * Gets the next date in the recurrence pattern after the specified date\n   * or returns false if there are no more occurrences.\n   * @param {String} start The date to search from.\n   * @param {Number} [direction]\n   *   A value indicating direction. Positive goes forward, negative goes backward.\n   * @returns {String|Boolean}\n   */\n  nextPatternDate( start, direction ) {\n    this.validate();\n    var date = getString( this._getNextOccurrence( getDate( start ), normalizeDirection( direction ) ) );\n    if ( this._doesOccurWithinPeriod( date ) ) {\n      return date;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Gets the next occurrence, or returns the specified date if it's valid.\n   * @param {String} date\n   * @param {Number} [direction]\n   *   A value indicating direction. Positive goes forward, negative goes backward.\n   * @returns {String|Boolean}\n   */\n  snap( date, direction ) {\n    this.validate();\n    return getString( this._snapToOccurrence( getDate( date ), normalizeDirection( direction ) ) );\n  }\n\n  _validatePeriod() {\n    if ( !this.value.start_date ) {\n      throw new InvalidPatternError( 'A start date is required.' );\n    }\n    this.value.start_date = String( this.value.start_date );\n    validateDate( this.value.start_date );\n    if ( this.value.end_date ) {\n      this.value.end_date = String( this.value.end_date );\n      validateDate( this.value.end_date );\n      if ( this.value.start_date > this.value.end_date ) {\n        throw new InvalidPatternError( 'The end date must be greater than or equal to the start date' );\n      }\n    }\n  }\n\n  _validateType() {\n    if ( !this.value.type ) {\n      throw new InvalidPatternError( 'A recurrence type is required.' );\n    }\n    this.value.type = Number( this.value.type );\n    switch ( this.value.type ) {\n      case TYPE.Daily:\n      case TYPE.Weekly:\n        break;\n\n      case TYPE.Monthly:\n      case TYPE.MonthNth:\n      case TYPE.Yearly:\n      case TYPE.YearNth:\n        throw new NotSupportedError( '\"Daily\" and \"Weekly\" are the only recurrence types supported at this time.' );\n\n      default:\n        throw new InvalidPatternError( 'The recurrence type \"' + this.value.type + '\" is invalid.' );\n    }\n  }\n\n  _validateDayOfWeekMask() {\n    if ( this.value.type === TYPE.Weekly ) {\n      if ( !this.value.day_of_week_mask ) {\n        throw new InvalidPatternError( 'A day-of-week mask is required for weekly recurrence patterns.' );\n      }\n    } else {\n      this.value.day_of_week_mask = null;\n    }\n  }\n\n  _validateInterval() {\n    if ( !this.value.interval ) {\n      throw new InvalidPatternError( 'A recurrence interval is required.' );\n    }\n    this.value.interval = Number( this.value.interval );\n    if ( isNaN( this.value.interval ) || this.value.interval <= 0 ) {\n      throw new InvalidPatternError( 'The recurrence interval must be a number greater than 0.' );\n    }\n  }\n\n  _validateExceptions() {\n    var self = this;\n    this._exceptionsByDate = {};\n    this._exceptionsByOriginalDate = {};\n    this._moved = {};\n    this.value.exceptions = this.value.exceptions || [];\n\n    this._validated = true;\n    var exceptions = {};\n    try {\n      this.value.exceptions.forEach( function( exception ) {\n        if ( !self.matches( exception.original_date ) ) {\n          throw new InvalidPatternError( 'An exception exists for an invalid date \"' + exception.original_date + '\".' );\n        }\n        if ( exceptions[ exception.original_date ] ) {\n          throw new InvalidPatternError( 'More than one exception exists for \"' + exception.original_date + '\".' );\n        }\n        if ( exception.date ) {\n          if (\n            exception.date < self.value.start_date ||\n            !!self.value.end_date && exception.date > self.value.end_date\n          ) {\n            throw new InvalidPatternError( 'The exception for \"' + exception.original_date + '\" is outside the pattern period.' );\n          }\n          if ( exception.date !== exception.original_date && self.matches( exception.date ) ) {\n            throw new InvalidPatternError( 'The exception for \"' + exception.original_date + '\" cannot occur on the same date as a regular occurrence.\"' );\n          }\n          if ( exceptions[ exception.original_date ] ) {\n            throw new InvalidPatternError( 'More than one exception exists for \"' + exception.original_date + '\".' );\n          }\n          if ( exception.date <= self.nextPatternDate( exception.original_date, -1 ) ) {\n            throw new InvalidPatternError( 'The exception for \"' + exception.original_date + '\" must occur after the previous occurrence.' );\n          }\n          if ( exception.date >= self.nextPatternDate( exception.original_date, 1 ) ) {\n            throw new InvalidPatternError( 'The exception for \"' + exception.original_date + '\" must occur before the next occurrence.' );\n          }\n        }\n        exceptions[ exception.original_date ] = true;\n      });\n    } finally {\n      this._validated = false;\n    }\n\n    this.value.exceptions.forEach( function( exception ) {\n      self._exceptionsByOriginalDate[ exception.original_date ] = exception;\n      if ( exception.original_date !== exception.date ) {\n        self._moved[ exception.original_date ] = true;\n      }\n      if ( exception.date ) {\n        self._exceptionsByDate[ exception.date ] = exception;\n      }\n    });\n  }\n\n  /**\n   * @private\n   * @param {String} date\n   * @returns {Boolean}\n   */\n  _doesOccurWithinPeriod( date ) {\n    return (\n      date >= this.value.start_date &&\n      ( !this.value.end_date || date <= this.value.end_date )\n    );\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @returns {Boolean}\n   */\n  _doesMatchDayOfWeek( date ) {\n    return hasFlag( this.value.day_of_week_mask, getDayOfWeekFlag( date ) );\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @returns {Boolean}\n   */\n  _doesMatchDailyInterval( date ) {\n    var days = durationToDays( date - getDate( this.value.start_date ) );\n    return days % this.value.interval === 0;\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @returns {Boolean}\n   */\n  _doesMatchWeeklyInterval( date ) {\n    var start = getSunday( getDate( this.value.start_date ) );\n    var end = getSunday( date );\n    var weeks = durationToWeeks( end - start );\n    return weeks % this.value.interval === 0;\n  }\n\n  /**\n   * @private\n   * @param {Date} start The date to start from.\n   * @param {Number} direction A distance multiplier. Must be 1 or -1.\n   * @returns {Date}\n   */\n  _getNextOccurrence( start, direction ) {\n    var date = this._snapToOccurrence( start, direction );\n    if ( +date !== +start ) {\n      return date;\n    }\n    switch ( this.value.type ) {\n      case TYPE.Daily:\n        return this._getNextDailyOccurrence( date, direction );\n      case TYPE.Weekly:\n        return this._getNextWeeklyOccurrence( date, direction );\n    }\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @param {Number} direction\n   * @returns {Date}\n   */\n  _getNextDailyOccurrence( date, direction ) {\n    return plusDays( date, this.value.interval * direction );\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @param {Number} direction\n   * @returns {Date}\n   */\n  _getNextWeeklyOccurrence( date, direction ) {\n    do {\n      date = plusDays( date, direction );\n      // If it's Sunday, jump to the next valid week. If the interval is 1,\n      // then we're already there.\n      if ( getDayOfWeekFlag( date ) === DAYS.Sunday ) {\n        date = plusWeeks( date, ( this.value.interval - 1 ) * direction );\n      }\n    } while ( !this._doesMatchDayOfWeek( date ) );\n    return date;\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @param {Number} direction\n   * @returns {Date}\n   */\n  _snapToOccurrence( date, direction ) {\n    if ( direction > 0 ) {\n      var patternStart = getDate( this.value.start_date );\n      if ( date < patternStart ) {\n        date = patternStart;\n      }\n    } else if ( this.value.end_date ) {\n      var patternEnd = getDate( this.value.end_date );\n      if ( date > patternEnd ) {\n        date = patternEnd;\n      }\n    }\n    switch ( this.value.type ) {\n      case TYPE.Daily:\n        return this._snapToDailyOccurrence( date, direction );\n      case TYPE.Weekly:\n        return this._snapToWeeklyOccurrence( date, direction );\n    }\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @param {Number} direction\n   * @returns {Date}\n   */\n  _snapToDailyOccurrence( date, direction ) {\n    var start = getDate( this.value.start_date );\n    var remainder = durationToDays( date - start ) % this.value.interval;\n    return plusDays( date, remainder * direction );\n  }\n\n  /**\n   * @private\n   * @param {Date} date\n   * @param {Number} direction\n   * @returns {Date}\n   */\n  _snapToWeeklyOccurrence( date, direction ) {\n    while ( !this._doesMatchDayOfWeek( date ) ) {\n      date = plusDays( date, direction );\n    }\n\n    var firstDay = getDate( this.value.start_date );\n    while ( !this._doesMatchDayOfWeek( firstDay ) ) {\n      firstDay = plusDays( firstDay, 1 );\n    }\n    if ( date <= firstDay ) {\n      return firstDay;\n    }\n\n    if ( this.value.end_date ) {\n      var lastDay = getDate( this.value.end_date );\n      while ( !this._doesMatchDayOfWeek( lastDay ) ) {\n        lastDay = plusDays( lastDay, -1 );\n      }\n      if ( date >= lastDay ) {\n        return lastDay;\n      }\n    }\n\n    var remainder = durationToWeeks( getSunday( date ) - getSunday( firstDay ) ) % this.value.interval;\n    if ( remainder > 0 ) {\n      date = plusWeeks( date, remainder * direction );\n      var maskDays = dayOfWeekMaskToArray( this.value.day_of_week_mask );\n      if ( direction > 0 ) {\n        // Starting from Sunday, get the first valid date going forward from\n        // Sunday to Saturday.\n        return plusDays( getSunday( date ), maskDays[0] );\n      } else {\n        // Starting from next Sunday, get the first valid date going backward\n        // from Saturday to Sunday.\n        return plusDays( getSunday( plusWeeks( date, 1 ) ), -( 7 - maskDays[ maskDays.length - 1 ] ) );\n      }\n    } else {\n      return date;\n    }\n  }\n};\n\n[\n  'January', 'February', 'March', 'April', 'May', 'June', 'July',\n  'August', 'September', 'October', 'November', 'December'\n].forEach( function( month, index ) {\n  Pattern.prototype[ month.toLowerCase() ] = function( dayOfMonth ) {\n    this._validated = false;\n    this.value.month_of_year = index + 1;\n    this.value.day_of_month = dayOfMonth;\n    this.value.instance = null;\n    return this;\n  };\n\n  Pattern.prototype[ 'of' + month ] = function( dayOfMonth ) {\n    this._validated = false;\n    this.value.month_of_year = index + 1;\n    this.value.day_of_month = dayOfMonth;\n    return this;\n  };\n});\n",
    "/**\n * @enum {Number}\n * Days of the week.\n */\nexport default {\n  Sunday: 1,\n  Monday: 2,\n  Tuesday: 4,\n  Wednesday: 8,\n  Thursday: 16,\n  Friday: 32,\n  Saturday: 64,\n  All: 1 | 2 | 4 | 8 | 16 | 32 | 64,\n  Weekdays: 2 | 4 | 8 | 16 | 32,\n  Weekends: 1 | 64\n};\n",
    "export default class InvalidDateError extends Error {\n  constructor( message ) {\n    super();\n    this.name = 'InvalidDateError';\n    this.message = message;\n  }\n};\n",
    "export default class InvalidMaskError extends Error {\n  constructor( message ) {\n    super();\n    this.name = 'InvalidMaskError';\n    this.message = message;\n  }\n};\n",
    "export default class InvalidOperationError extends Error {\n  constructor( message ) {\n    super();\n    this.name = 'InvalidOperationError';\n    this.message = message;\n  }\n};\n",
    "export default class InvalidPatternError extends Error {\n  constructor( message ) {\n    super();\n    this.name = 'InvalidPatternError';\n    this.message = message;\n  }\n};\n",
    "export default class NotSupportedError extends Error {\n  constructor( message ) {\n    super();\n    this.name = 'NotSupportedError';\n    this.message = message;\n  }\n};\n",
    "import Pattern from './Pattern';\nimport Mask from './Mask';\nimport days from './days';\nimport type from './type';\n\nimport InvalidDateError from './errors/InvalidDateError';\nimport InvalidMaskError from './errors/InvalidMaskError';\nimport InvalidOperationError from './errors/InvalidOperationError';\nimport InvalidPatternError from './errors/InvalidPatternError';\nimport NotSupportedError from './errors/NotSupportedError';\n\nvar exports = function() {\n  return new Pattern();\n};\n\nexports.Pattern = Pattern;\nexports.Mask = Mask;\nexports.days = days;\nexports.type = type;\n\nexports.errors = {\n  InvalidDateError,\n  InvalidMaskError,\n  InvalidOperationError,\n  InvalidPatternError,\n  NotSupportedError\n};\n\nexport default exports;\n",
    "/**\n * @enum {Number}\n * Recurrence types.\n */\nexport default {\n  Daily: 1,\n  Weekly: 2,\n  Monthly: 3,\n  MonthNth: 4,\n  Yearly: 5,\n  YearNth: 6\n};\n",
    "import InvalidDateError from './errors/InvalidDateError';\n\nconst DATE_PATTERN = /[0-9]{4}\\-[0-9]{2}\\-[0-9]{2}/;\n\n/**\n * @param {String} date\n * @returns {Date}\n */\nexport function getDate( date ) {\n  if ( !DATE_PATTERN.test( date ) ) {\n    throw new InvalidDateError( 'Date \"' + date + '\" is invalid. Expected format to be YYYY-MM-DD.' );\n  }\n  var result = new Date( date + 'T00:00:00.000Z' );\n  if ( isNaN( result.getTime() ) ) {\n    throw new InvalidDateError( 'Date \"' + date + '\" is invalid.' );\n  }\n  return result;\n};\n\n/**\n * @param {String} date\n */\nexport function validateDate( date ) {\n  getDate( date );\n};\n\n/**\n * @param {Date} date\n * @returns {String}\n */\nexport function getString( date ) {\n  var month = ( date.getUTCMonth() + 1 ).toString();\n  if ( month.length === 1 ) {\n    month = '0' + month;\n  }\n  var day = date.getUTCDate().toString();\n  if ( day.length === 1 ) {\n    day = '0' + day;\n  }\n  return date.getUTCFullYear() + '-' + month + '-' + day;\n};\n\n/**\n * @param {Date} date\n * @returns {Number}\n */\nexport function getDayOfWeek( date ) {\n  return date.getUTCDay();\n};\n\n/**\n * @param {Date} date\n * @returns {Number}\n */\nexport function getDayOfWeekFlag( date ) {\n  return dayOfWeekToFlag( getDayOfWeek( date ) );\n};\n\n/**\n * @param {Number} day\n * @returns {Number}\n */\nexport function dayOfWeekToFlag( day ) {\n  return Math.pow( 2, day );\n};\n\n/**\n * @param {Date} date\n * @returns {Date}\n */\nexport function getSunday( date ) {\n  return plusDays( date, -getDayOfWeek( date ) );\n};\n\n/**\n * Determines whether a given bit mask contains the specified bit flag.\n * @param {Number} mask\n * @param {Number} flag\n * @returns {Boolean}\n */\nexport function hasFlag( mask, flag ) {\n  return ( mask & flag ) === flag;\n};\n\n/**\n * Converts a JavaScript date value to days.\n * @param {Number} value\n *   The number of milliseconds since midnight of Jan 1, 1970 UTC.\n * @returns {Number}\n */\nexport function durationToDays( duration ) {\n  return ( +duration ) / 1000 / 60 / 60 / 24;\n};\n\n/**\n * @param {Number} duration\n * @returns {Number}\n */\nexport function durationToWeeks( duration ) {\n  return durationToDays( duration ) / 7;\n};\n\n/**\n * @param {Number} days\n * @returns {Number}\n */\nexport function daysToDuration( days ) {\n  return days * 24 * 60 * 60 * 1000;\n};\n\n/**\n * @param {Date} date\n * @param {Number} days\n * @returns {Date}\n */\nexport function plusDays( date, days ) {\n  return new Date( +date + daysToDuration( days ) );\n};\n\n/**\n * @param {Date} date\n * @param {Number} weeks\n * @returns {Date}\n */\nexport function plusWeeks( date, weeks ) {\n  return plusDays( date, weeks * 7 );\n};\n\n/**\n * @param {Number} mask\n * @returns {Array.<Number>}\n */\nexport function dayOfWeekMaskToArray( mask ) {\n  var days = [ 0, 1, 2, 3, 4, 5, 6 ];\n  var result = [];\n  days.forEach( function( day ) {\n    if ( hasFlag( mask, dayOfWeekToFlag( day ) ) ) {\n      result.push( day );\n    }\n  });\n  return result;\n};\n\nexport function normalizeDirection( direction ) {\n  return direction < 0 ? -1 : 1;\n};\n\nexport function extend( target, obj ) {\n  var prop;\n  obj = obj || {};\n  for ( prop in obj ) {\n    if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\n      target[ prop ] = obj[ prop ];\n    }\n  }\n  return target;\n};\n\nexport function find( array, callback ) {\n  var index = findIndex( array, callback );\n  if ( index > -1 ) {\n    return array[ index ];\n  } else {\n    return null;\n  }\n};\n\nexport function findIndex( array, callback ) {\n  for ( var i = 0; i < array.length; i++ ) {\n    if ( callback( array[ i ] ) ) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nexport function repeat( string, times ) {\n  var ret = '';\n  for ( var i = 0; i < times; i++ ) {\n    ret += string;\n  }\n  return ret;\n};\n"
  ]
}