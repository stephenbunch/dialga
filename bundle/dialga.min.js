(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Dialga = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_util=require("./util"),DailyEngine=function(){function t(e){_classCallCheck(this,t),this._interval=e.interval,this._startDate=e.start_date,this._firstOccurrence=(0,_util.getDate)(e.start_date),this._lastOccurrence=e.end_date?(0,_util.getDate)(e.end_date):null}return _createClass(t,[{key:"snapToOccurrence",value:function(t,e){var r=(0,_util.durationToDays)(t-this._firstOccurrence)%this._interval,n=(0,_util.plusDays)(t,r*e);return n<this._firstOccurrence&&(n=this._firstOccurrence),this._lastOccurrence&&n>this._lastOccurrence&&(n=this._lastOccurrence),n}},{key:"next",value:function(t,e){return(0,_util.plusDays)(t,this._interval*e)}},{key:"matchesInterval",value:function(t){var e=(0,_util.durationToDays)(t-(0,_util.getDate)(this._startDate));return e%this._interval===0}}]),t}();exports["default"]=DailyEngine;

},{"./util":17}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_InvalidMaskError=require("./errors/InvalidMaskError"),_InvalidMaskError2=_interopRequireDefault(_InvalidMaskError),_util=require("./util"),Mask=function(){function t(e){if(_classCallCheck(this,t),this.value=e||"",this.start_date=null,this.value){var r=this.value.split("|");if(2!==r.length)throw new _InvalidMaskError2["default"]('Mask is invalid. Expected format [yyyy-mm-dd]|[mask] but found "'+this.value+'".');if((0,_util.validateDate)(r[0]),this.start_date=r[0],"1"!==r[1][0])throw new _InvalidMaskError2["default"]('Mask format is invalid. Mask value should begin with a "1".');if("1"!==r[1][r[1].length-1])throw new _InvalidMaskError2["default"]('Mask format is invalid. Mask value should end with a "1".')}}return _createClass(t,[{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this.value}},{key:"or",value:function(t){return this._op(t,function(t,e){return Boolean(Number(t))|Boolean(Number(e))})}},{key:"and",value:function(t){return this._op(t,function(t,e){return Boolean(Number(t))&Boolean(Number(e))})}},{key:"xor",value:function(t){return this._op(t,function(t,e){return Boolean(Number(t))^Boolean(Number(e))})}},{key:"not",value:function(t){return this._op(t,function(t,e){return Boolean(Number(e))?0:Number(Boolean(Number(t)))})}},{key:"matches",value:function(t){if(!this.value)return!1;var e=this.value.split("|"),r=e[0];if(r>t)return!1;var n=(0,_util.durationToDays)((0,_util.getDate)(t)-(0,_util.getDate)(r));return"1"===e[1][n]}},{key:"getDates",value:function(){if(!this.value)return[];var t=[],e=this.value.split("|"),r=e[0];t.push(r),r=(0,_util.getDate)(r);for(var n=e[1].split(""),i=n.length,a=1;i>a;a++)"1"===n[a]&&t.push((0,_util.getString)((0,_util.plusDays)(r,a)));return t}},{key:"getRange",value:function(){if(!this.value)return null;var t=this.value.split("|"),e=(0,_util.getDate)(t[0]),r=(0,_util.plusDays)(e,t[1].length-1);return[(0,_util.getString)(e),(0,_util.getString)(r)]}},{key:"addDate",value:function(t){return this.or(t+"|1")}},{key:"removeDate",value:function(t){return this.not(t+"|1")}},{key:"toggleDate",value:function(t,e){return void 0===e?this.matches(t)?this.removeDate(t):this.addDate(t):e?this.addDate(t):this.removeDate(t)}},{key:"_op",value:function(e,r){var n=t.commonalize(this.value,e);if(!n[0])return new t;for(var i=n[0].split("|")[1].split(""),a=n[1].split("|")[1].split(""),u=[],l=i.length,o=0;l>o;o++)u[o]=r(i[o],a[o]);return new t(t.trim(n[0].split("|")[0]+"|"+u.join("")),!1)}}],[{key:"fromDates",value:function(e){if(!e||!e.length)return new t;e=e.slice().sort();for(var r=e[0],n="1",i=e.length,a=1;i>a;a++)n+=(0,_util.repeat)("0",(0,_util.durationToDays)((0,_util.getDate)(e[a])-(0,_util.getDate)(e[a-1]))-1),n+="1";return new t(r+"|"+n)}},{key:"trim",value:function(t){if(t&&-1!==t.indexOf("1")){var e=t.split("|"),r=e[0],n=e[1];return-1===n.indexOf("1")?"":"1"===n[0]&&"1"===n[n.length-1]?t:(r=(0,_util.getString)((0,_util.plusDays)((0,_util.getDate)(r),n.indexOf("1"))),n=n.substring(n.indexOf("1"),n.lastIndexOf("1")+1),r+"|"+n)}return""}},{key:"commonalize",value:function(t,e){t=t&&t.toString(),e=e&&e.toString();var r=!!t&&t.split("|"),n=!!e&&e.split("|");if(!r&&!n)return["",""];r?n||(n=[r[0],(0,_util.repeat)("0",r[1].length)]):r=[n[0],(0,_util.repeat)("0",n[1].length)];var i=void 0;return r[0]<n[0]?(i=(0,_util.durationToDays)((0,_util.getDate)(n[0])-(0,_util.getDate)(r[0])),r[1]+=(0,_util.repeat)("0",i),n[1]=(0,_util.repeat)("0",i)+n[1],n[0]=r[0]):n[0]<r[0]&&(i=(0,_util.durationToDays)((0,_util.getDate)(r[0])-(0,_util.getDate)(n[0])),n[1]+=(0,_util.repeat)("0",i),r[1]=(0,_util.repeat)("0",i)+r[1],r[0]=n[0]),r[1].length<n[1].length&&(r[1]+=(0,_util.repeat)("0",n[1].length-r[1].length)),n[1].length<r[1].length&&(n[1]+=(0,_util.repeat)("0",r[1].length-n[1].length)),[r.join("|"),n.join("|")]}}]),t}();exports["default"]=Mask;

},{"./errors/InvalidMaskError":12,"./util":17}],3:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),_util=require("./util"),MonthEngine=function(){function e(t){var r=t.start,i=t.end,n=t.interval,c=t.resolve;_classCallCheck(this,e),this._interval=n,this._resolve=c;var s=(0,_util.getDate)(r),l=(0,_util.getYear)(s),a=(0,_util.getMonth)(s),u=this._resolveDate(l,a);s>u&&(u=this._resolveDate(l,a+n)),this.firstOccurrence=u,i?this.lastOccurrence=this._getOccurrenceUntil((0,_util.getDate)(i)):this.lastOccurrence=null}return _createClass(e,[{key:"snapToOccurrence",value:function(e,t){var r=this._getOccurrenceUntil(e);return e>r&&t>0?r=this._resolveDate((0,_util.getYear)(r),(0,_util.getMonth)(r)+this._interval):r>e&&0>t&&(r=this._resolveDate((0,_util.getYear)(r),(0,_util.getMonth)(r)-this._interval)),r<this.firstOccurrence?r=this.firstOccurrence:this.lastOccurrence&&r>this.lastOccurrence&&(r=this.lastOccurrence),r}},{key:"next",value:function(e,t){return this._resolveDate((0,_util.getYear)(e),(0,_util.getMonth)(e)+this._interval*t)}},{key:"_getOccurrenceUntil",value:function(e){if(e<this.firstOccurrence)return this.firstOccurrence;var t=Math.floor((0,_util.getMonthsBetween)(this.firstOccurrence,e)/this._interval)*this._interval,r=this._resolveDate((0,_util.getYear)(this.firstOccurrence),(0,_util.getMonth)(this.firstOccurrence)+t);return r>e&&(r=this._resolveDate((0,_util.getYear)(r),(0,_util.getMonth)(r)-this._interval)),r<this.firstOccurrence&&(r=this.firstOccurrence),r}},{key:"_resolveDate",value:function(e,t){return t>12?(e+=Math.floor(t/12),t-=12*Math.floor(t/12)):1>t&&(e-=Math.ceil(-1*(t-1)/12),t+=12*Math.ceil(-1*(t-1)/12)),this._resolve(e,t)}}]),e}();exports["default"]=MonthEngine;

},{"./util":17}],4:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),_util=require("./util"),_MonthEngine=require("./MonthEngine"),_MonthEngine2=_interopRequireDefault(_MonthEngine),MonthNthEngine=function(){function e(n){var t=this;_classCallCheck(this,e),this._dayOfWeek=(0,_util.dayOfWeekFromFlag)(n.day_of_week_mask),this._interval=n.interval,this._instance=n.instance,this._engine=new _MonthEngine2["default"]({start:n.start_date,end:n.end_date,interval:this._interval,resolve:function(e,n){return(0,_util.resolveInstanceDate)(e,n,t._instance,t._dayOfWeek)}})}return _createClass(e,[{key:"snapToOccurrence",value:function(e,n){return this._engine.snapToOccurrence(e,n)}},{key:"next",value:function(e,n){return this._engine.next(e,n)}},{key:"matchesInterval",value:function(e){return(0,_util.getDayOfWeek)(e)===this._dayOfWeek&&(0,_util.getInstance)(e)===this._instance&&(0,_util.getMonthsBetween)(e,this._engine.firstOccurrence)%this._interval===0}}]),e}();exports["default"]=MonthNthEngine;

},{"./MonthEngine":3,"./util":17}],5:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),_util=require("./util"),_MonthEngine=require("./MonthEngine"),_MonthEngine2=_interopRequireDefault(_MonthEngine),MonthlyEngine=function(){function e(n){_classCallCheck(this,e),this._interval=n.interval,this._day=n.day_of_month,this._engine=new _MonthEngine2["default"]({start:n.start_date,end:n.end_date,interval:n.interval,resolve:function(e,t){return(0,_util.resolveDate)(e,t,n.day_of_month)}})}return _createClass(e,[{key:"snapToOccurrence",value:function(e,n){return this._engine.snapToOccurrence(e,n)}},{key:"next",value:function(e,n){return this._engine.next(e,n)}},{key:"matchesInterval",value:function(e){return+(0,_util.resolveDate)((0,_util.getYear)(e),(0,_util.getMonth)(e),this._day)===+e&&(0,_util.getMonthsBetween)(this._engine.firstOccurrence,e)%this._interval===0}}]),e}();exports["default"]=MonthlyEngine;

},{"./MonthEngine":3,"./util":17}],6:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),_type=require("./type"),_type2=_interopRequireDefault(_type),_util=require("./util"),_InvalidPatternError=require("./errors/InvalidPatternError"),_InvalidPatternError2=_interopRequireDefault(_InvalidPatternError),_InvalidOperationError=require("./errors/InvalidOperationError"),_InvalidOperationError2=_interopRequireDefault(_InvalidOperationError),_Mask=require("./Mask"),_Mask2=_interopRequireDefault(_Mask),_DailyEngine=require("./DailyEngine"),_DailyEngine2=_interopRequireDefault(_DailyEngine),_WeeklyEngine=require("./WeeklyEngine"),_WeeklyEngine2=_interopRequireDefault(_WeeklyEngine),_MonthlyEngine=require("./MonthlyEngine"),_MonthlyEngine2=_interopRequireDefault(_MonthlyEngine),_MonthNthEngine=require("./MonthNthEngine"),_MonthNthEngine2=_interopRequireDefault(_MonthNthEngine),_YearlyEngine=require("./YearlyEngine"),_YearlyEngine2=_interopRequireDefault(_YearlyEngine),_YearNthEngine=require("./YearNthEngine"),_YearNthEngine2=_interopRequireDefault(_YearNthEngine),Pattern=function(){function e(t){_classCallCheck(this,e),this.value=_extends({start_date:null,end_date:null,type:null,day_of_week_mask:null,day_of_month:null,month_of_year:null,interval:null,instance:null,exceptions:[]},t),this._validated=!1}return _createClass(e,[{key:"validate",value:function(){return this._validated?this:(this._validatePeriod(),this._validateType(),this._validateDayOfWeekMask(),this._validateInterval(),this._validateExceptions(),this._validated=!0,this)}},{key:"every",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._validated=!1,this.value.interval=e,this}},{key:"day",value:function(e){return void 0===e?this.days():(this._validated=!1,this.value.instance=null,this.value.day_of_month=e,this)}},{key:"days",value:function(){return this._validated=!1,this.value.type=_type2["default"].Daily,this.value.day_of_week_mask=null,this.value.instance=null,this}},{key:"week",value:function(){return this._validated=!1,this.value.type=_type2["default"].Weekly,this}},{key:"weeks",value:function(){return this.week()}},{key:"month",value:function(){return this._validated=!1,this.value.instance?this.value.type=_type2["default"].MonthNth:(this.value.type=_type2["default"].Monthly,this.value.day_of_week_mask=null),this}},{key:"months",value:function(){return this.month()}},{key:"year",value:function(){return this._validated=!1,this.value.instance?this.value.type=_type2["default"].YearNth:(this.value.type=_type2["default"].Yearly,this.value.day_of_week_mask=null),this}},{key:"years",value:function(){return this.year()}},{key:"on",value:function(e){return this._validated=!1,this.value.day_of_week_mask=e,this.value.instance=null,this}},{key:"the",value:function(e,t){return this._validated=!1,this.value.instance=e,this.value.day_of_week_mask=t,this}},{key:"from",value:function(e){return this._validated=!1,this.value.start_date=e,this}},{key:"to",value:function(e){return this._validated=!1,this.value.end_date=e,this}},{key:"addException",value:function(e,t){this._validated=!1;var a=(0,_util.find)(this.value.exceptions,function(t){return t.original_date===e});return a||(a={},this.value.exceptions.push(a)),a.original_date=e,a.date=t,this}},{key:"removeException",value:function(e){this._validated=!1;var t=(0,_util.findIndex)(this.value.exceptions,function(t){return t.original_date===e});return t>-1&&this.value.exceptions.splice(t,1),this}},{key:"removeAllExceptions",value:function(){return this._validated=!1,this.value.exceptions=[],this}},{key:"findException",value:function(e){return(0,_util.find)(this.value.exceptions,function(t){return t.original_date===e})}},{key:"matches",value:function(e){return this.validate(),this._exceptionsByDate[e]?!0:this._moved[e]?!1:this._doesOccurWithinPeriod(e)?this._engine.matchesInterval((0,_util.getDate)(e)):!1}},{key:"toJSON",value:function(){return this.value}},{key:"toMask",value:function(e){if(e=e||this.value.end_date,!e)throw new _InvalidOperationError2["default"]("An end date is required to generate a mask.");for(var t="",a=void 0,i=void 0;(i=this.next(a))&&!(i>e);){var n=(0,_util.durationToDays)((0,_util.getDate)(i)-(0,_util.getDate)(a||this.value.start_date));a&&(n-=1),t+=(0,_util.repeat)("0",n),t+="1",a=i}return t?new _Mask2["default"](_Mask2["default"].trim(this.value.start_date+"|"+t)):new _Mask2["default"]}},{key:"next",value:function(e,t){this.validate(),"string"!=typeof e&&(t=e,e=(0,_util.getString)((0,_util.plusDays)((0,_util.getDate)(this.value.start_date),-1)));for(var a=e;;){if(a=(0,_util.getString)(this._getNextOccurrence((0,_util.getDate)(a),(0,_util.normalizeDirection)(t))),!this._doesOccurWithinPeriod(a))return!1;var i=this._exceptionsByOriginalDate[a];if(!i)return a;if(i.date)return a}}},{key:"nextPatternDate",value:function(e,t){this.validate();var a=(0,_util.getString)(this._getNextOccurrence((0,_util.getDate)(e),(0,_util.normalizeDirection)(t)));return this._doesOccurWithinPeriod(a)?a:!1}},{key:"snap",value:function(e,t){return this.validate(),(0,_util.getString)(this._snapToOccurrence((0,_util.getDate)(e),(0,_util.normalizeDirection)(t)))}},{key:"_validatePeriod",value:function(){if(!this.value.start_date)throw new _InvalidPatternError2["default"]("A start date is required.");if(this.value.start_date=String(this.value.start_date),(0,_util.validateDate)(this.value.start_date),this.value.end_date&&(this.value.end_date=String(this.value.end_date),(0,_util.validateDate)(this.value.end_date),this.value.start_date>this.value.end_date))throw new _InvalidPatternError2["default"]("The end date must be greater than or equal to the start date")}},{key:"_validateType",value:function(){if(!this.value.type)throw new _InvalidPatternError2["default"]("A recurrence type is required.");switch(this.value.type=Number(this.value.type),this.value.type){case _type2["default"].Daily:this._engine=new _DailyEngine2["default"](this.value);break;case _type2["default"].Weekly:this._engine=new _WeeklyEngine2["default"](this.value);break;case _type2["default"].Monthly:this._engine=new _MonthlyEngine2["default"](this.value);break;case _type2["default"].MonthNth:this._engine=new _MonthNthEngine2["default"](this.value);break;case _type2["default"].Yearly:this._engine=new _YearlyEngine2["default"](this.value);break;case _type2["default"].YearNth:this._engine=new _YearNthEngine2["default"](this.value);break;default:throw new _InvalidPatternError2["default"]('The recurrence type "'+this.value.type+'" is invalid.')}}},{key:"_validateDayOfWeekMask",value:function(){if(this.value.type===_type2["default"].Weekly||this.value.type===_type2["default"].MonthNth||this.value.type===_type2["default"].YearNth){if(!this.value.day_of_week_mask)throw new _InvalidPatternError2["default"]("A day of week mask is required for Weekly, MonthNth, and YearNth recurrence patterns.");if((this.value.type===_type2["default"].MonthNth||this.value.type===_type2["default"].YearNth)&&(0,_util.dayOfWeekFromFlag)(this.value.day_of_week_mask)%1!==0)throw new _InvalidPatternError2["default"]("Only one day of week may be specified for MonthNth and YearNth recurrence patterns.")}else this.value.day_of_week_mask=null}},{key:"_validateInterval",value:function(){if(!this.value.interval)throw new _InvalidPatternError2["default"]("A recurrence interval is required.");if(this.value.interval=Number(this.value.interval),isNaN(this.value.interval)||this.value.interval<=0)throw new _InvalidPatternError2["default"]("The recurrence interval must be a number greater than 0.")}},{key:"_validateExceptions",value:function(){var e=this;this._exceptionsByDate={},this._exceptionsByOriginalDate={},this._moved={},this.value.exceptions=this.value.exceptions||[],this._validated=!0;var t={};try{this.value.exceptions.forEach(function(a){if(!e.matches(a.original_date))throw new _InvalidPatternError2["default"]('An exception exists for an invalid date "'+a.original_date+'".');if(t[a.original_date])throw new _InvalidPatternError2["default"]('More than one exception exists for "'+a.original_date+'".');if(a.date){if(a.date<e.value.start_date||e.value.end_date&&a.date>e.value.end_date)throw new _InvalidPatternError2["default"]('The exception for "'+a.original_date+'" is outside the pattern period.');if(a.date!==a.original_date&&e.matches(a.date))throw new _InvalidPatternError2["default"]('The exception for "'+a.original_date+'" cannot occur on the same date as a regular occurrence."');if(t[a.original_date])throw new _InvalidPatternError2["default"]('More than one exception exists for "'+a.original_date+'".');if(a.date<=e.nextPatternDate(a.original_date,-1))throw new _InvalidPatternError2["default"]('The exception for "'+a.original_date+'" must occur after the previous occurrence.');if(a.date>=e.nextPatternDate(a.original_date,1))throw new _InvalidPatternError2["default"]('The exception for "'+a.original_date+'" must occur before the next occurrence.')}t[a.original_date]=!0})}finally{this._validated=!1}this.value.exceptions.forEach(function(t){e._exceptionsByOriginalDate[t.original_date]=t,t.original_date!==t.date&&(e._moved[t.original_date]=!0),t.date&&(e._exceptionsByDate[t.date]=t)})}},{key:"_doesOccurWithinPeriod",value:function(e){return e>=this.value.start_date&&(!this.value.end_date||e<=this.value.end_date)}},{key:"_getNextOccurrence",value:function(e,t){var a=this._snapToOccurrence(e,t);return+a!==+e?a:this._engine.next(a,t)}},{key:"_snapToOccurrence",value:function(e,t){return this._engine.snapToOccurrence(e,t)}}]),e}();exports["default"]=Pattern,["January","February","March","April","May","June","July","August","September","October","November","December"].forEach(function(e,t){Pattern.prototype[e.toLowerCase()]=function(e){return this._validated=!1,this.value.month_of_year=t+1,e&&(this.value.day_of_month=e,this.value.instance=null),this},Pattern.prototype["of"+e]=function(e){return this._validated=!1,this.value.month_of_year=t+1,e&&(this.value.day_of_month=e,this.value.instance=null),this}});

},{"./DailyEngine":1,"./Mask":2,"./MonthNthEngine":4,"./MonthlyEngine":5,"./WeeklyEngine":7,"./YearNthEngine":8,"./YearlyEngine":9,"./errors/InvalidOperationError":13,"./errors/InvalidPatternError":14,"./type":16,"./util":17}],7:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var u=t[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}return function(t,a,u){return a&&e(t.prototype,a),u&&e(t,u),t}}(),_days=require("./days"),_days2=_interopRequireDefault(_days),_util=require("./util"),WeeklyEngine=function(){function e(t){_classCallCheck(this,e),this._interval=t.interval,this._dayOfWeekMask=t.day_of_week_mask,this._startDate=t.start_date,this._endDate=t.end_date}return _createClass(e,[{key:"snapToOccurrence",value:function(e,t){for(;!this._doesMatchDayOfWeek(e);)e=(0,_util.plusDays)(e,t);for(var a=(0,_util.getDate)(this._startDate);!this._doesMatchDayOfWeek(a);)a=(0,_util.plusDays)(a,1);if(a>=e)return a;if(this._endDate){for(var u=(0,_util.getDate)(this._endDate);!this._doesMatchDayOfWeek(u);)u=(0,_util.plusDays)(u,-1);if(e>=u)return u}var i=(0,_util.durationToWeeks)((0,_util.getSunday)(e)-(0,_util.getSunday)(a))%this._interval;if(i>0){e=(0,_util.plusWeeks)(e,i*t);var s=(0,_util.dayOfWeekMaskToArray)(this._dayOfWeekMask);return t>0?(0,_util.plusDays)((0,_util.getSunday)(e),s[0]):(0,_util.plusDays)((0,_util.getSunday)((0,_util.plusWeeks)(e,1)),-(7-s[s.length-1]))}return e}},{key:"next",value:function(e,t){do e=(0,_util.plusDays)(e,t),(0,_util.getDayOfWeekFlag)(e)===_days2["default"].Sunday&&(e=(0,_util.plusWeeks)(e,(this._interval-1)*t));while(!this._doesMatchDayOfWeek(e));return e}},{key:"matchesInterval",value:function(e){return this._doesMatchDayOfWeek(e)&&this._doesMatchWeeklyInterval(e)}},{key:"_doesMatchDayOfWeek",value:function(e){return(0,_util.hasFlag)(this._dayOfWeekMask,(0,_util.getDayOfWeekFlag)(e))}},{key:"_doesMatchWeeklyInterval",value:function(e){var t=(0,_util.getSunday)((0,_util.getDate)(this._startDate)),a=(0,_util.getSunday)(e),u=(0,_util.durationToWeeks)(a-t);return u%this._interval===0}}]),e}();exports["default"]=WeeklyEngine;

},{"./days":10,"./util":17}],8:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),_util=require("./util"),_MonthEngine=require("./MonthEngine"),_MonthEngine2=_interopRequireDefault(_MonthEngine),YearNthEngine=function(){function e(n){var t=this;_classCallCheck(this,e),this._dayOfWeek=(0,_util.dayOfWeekFromFlag)(n.day_of_week_mask),this._instance=n.instance,this._interval=n.interval,this._month=n.month_of_year,this._engine=new _MonthEngine2["default"]({start:n.start_date,end:n.end_date,interval:12*n.interval,resolve:function(e){return(0,_util.resolveInstanceDate)(e,n.month_of_year,n.instance,t._dayOfWeek)}})}return _createClass(e,[{key:"snapToOccurrence",value:function(e,n){return this._engine.snapToOccurrence(e,n)}},{key:"next",value:function(e,n){return this._engine.next(e,n)}},{key:"matchesInterval",value:function(e){return(0,_util.getDayOfWeek)(e)===this._dayOfWeek&&(0,_util.getInstance)(e)===this._instance&&(0,_util.getMonth)(e)===this._month&&(0,_util.getYearsBetween)(e,this._engine.firstOccurrence)%this._interval===0}}]),e}();exports["default"]=YearNthEngine;

},{"./MonthEngine":3,"./util":17}],9:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_util=require("./util"),_MonthEngine=require("./MonthEngine"),_MonthEngine2=_interopRequireDefault(_MonthEngine),YearlyEngine=function(){function e(t){_classCallCheck(this,e),this._day=t.day_of_month,this._month=t.month_of_year,this._interval=t.interval,this._engine=new _MonthEngine2["default"]({start:t.start_date,end:t.end_date,interval:12*t.interval,resolve:function(e){return(0,_util.resolveDate)(e,t.month_of_year,t.day_of_month)}})}return _createClass(e,[{key:"snapToOccurrence",value:function(e,t){return this._engine.snapToOccurrence(e,t)}},{key:"next",value:function(e,t){return this._engine.next(e,t)}},{key:"matchesInterval",value:function(e){return+(0,_util.resolveDate)((0,_util.getYear)(e),(0,_util.getMonth)(e),this._day)===+e&&(0,_util.getMonth)(e)===this._month&&(0,_util.getYearsBetween)(this._engine.firstOccurrence,e)%this._interval===0}}]),e}();exports["default"]=YearlyEngine;

},{"./MonthEngine":3,"./util":17}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={Sunday:1,Monday:2,Tuesday:4,Wednesday:8,Thursday:16,Friday:32,Saturday:64,All:127,Weekdays:62,Weekends:65};

},{}],11:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _extendableBuiltin(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var InvalidDateError=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));return r.name="InvalidDateError",r.message=t,r}return _inherits(e,t),e}(_extendableBuiltin(Error));exports["default"]=InvalidDateError;

},{}],12:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _extendableBuiltin(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var InvalidMaskError=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));return r.name="InvalidMaskError",r.message=t,r}return _inherits(e,t),e}(_extendableBuiltin(Error));exports["default"]=InvalidMaskError;

},{}],13:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _extendableBuiltin(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var InvalidOperationError=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));return r.name="InvalidOperationError",r.message=t,r}return _inherits(e,t),e}(_extendableBuiltin(Error));exports["default"]=InvalidOperationError;

},{}],14:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _extendableBuiltin(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}Object.defineProperty(exports,"__esModule",{value:!0});var InvalidPatternError=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));return r.name="InvalidPatternError",r.message=t,r}return _inherits(e,t),e}(_extendableBuiltin(Error));exports["default"]=InvalidPatternError;

},{}],15:[function(require,module,exports){
"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(exports,"__esModule",{value:!0});var _Pattern=require("./Pattern"),_Pattern2=_interopRequireDefault(_Pattern),_Mask=require("./Mask"),_Mask2=_interopRequireDefault(_Mask),_days=require("./days"),_days2=_interopRequireDefault(_days),_type=require("./type"),_type2=_interopRequireDefault(_type),_InvalidDateError=require("./errors/InvalidDateError"),_InvalidDateError2=_interopRequireDefault(_InvalidDateError),_InvalidMaskError=require("./errors/InvalidMaskError"),_InvalidMaskError2=_interopRequireDefault(_InvalidMaskError),_InvalidOperationError=require("./errors/InvalidOperationError"),_InvalidOperationError2=_interopRequireDefault(_InvalidOperationError),_InvalidPatternError=require("./errors/InvalidPatternError"),_InvalidPatternError2=_interopRequireDefault(_InvalidPatternError),_exports=function(){return new _Pattern2["default"]};_exports.Pattern=_Pattern2["default"],_exports.Mask=_Mask2["default"],_exports.days=_days2["default"],_exports.type=_type2["default"],_exports.errors={InvalidDateError:_InvalidDateError2["default"],InvalidMaskError:_InvalidMaskError2["default"],InvalidOperationError:_InvalidOperationError2["default"],InvalidPatternError:_InvalidPatternError2["default"]},exports["default"]=_exports;

},{"./Mask":2,"./Pattern":6,"./days":10,"./errors/InvalidDateError":11,"./errors/InvalidMaskError":12,"./errors/InvalidOperationError":13,"./errors/InvalidPatternError":14,"./type":16}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={Daily:1,Weekly:2,Monthly:3,MonthNth:4,Yearly:5,YearNth:6};

},{}],17:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function getDate(e){if(!DATE_PATTERN.test(e))throw new _InvalidDateError2["default"]('Date "'+e+'" is invalid. Expected format to be YYYY-MM-DD.');var t=new Date(e+"T00:00:00.000Z");if(isNaN(t.getTime()))throw new _InvalidDateError2["default"]('Date "'+e+'" is invalid.');return t}function getDateFromParts(e,t,r){return getDate(e+"-"+padZero(t)+"-"+padZero(r))}function resolveDate(e,t,r){var n=getDaysInMonth(getDateFromParts(e,t,1));return getDateFromParts(e,t,Math.min(r,n))}function getInstance(e){return Math.ceil(getDayOfMonth(e)/7)}function resolveInstanceDate(e,t,r,n){var a=getDateFromParts(e,t,1),o=getDayOfWeek(a);o>n&&(n+=7);var s=1+n-o,i=s+7*(r-1),u=getDaysInMonth(a);return i>u&&(i-=7),getDateFromParts(e,t,i)}function validateDate(e){getDate(e)}function getString(e){var t=padZero(getMonth(e)),r=padZero(getDayOfMonth(e));return e.getUTCFullYear()+"-"+t+"-"+r}function padZero(e){return e=e.toString(),1===e.length&&(e="0"+e),e}function getMonth(e){return e.getUTCMonth()+1}function getDayOfMonth(e){return e.getUTCDate()}function getYear(e){return e.getUTCFullYear()}function getDaysInMonth(e){var t=getYear(e),r=getMonth(e)+1;return r>12&&(r=1,t+=1),e=getDate(t+"-"+padZero(r)+"-01"),e=plusDays(e,-1),getDayOfMonth(e)}function getFirstDayOfMonth(e){var t=getString(e).split("-"),r=_slicedToArray(t,3),n=r[0],a=r[1];r[2];return getDate(n+"-"+a+"-01")}function getDayOfWeek(e){return e.getUTCDay()}function getDayOfWeekFlag(e){return dayOfWeekToFlag(getDayOfWeek(e))}function dayOfWeekToFlag(e){return Math.pow(2,e)}function dayOfWeekFromFlag(e){return Math.log(e)/Math.log(2)}function getSunday(e){return plusDays(e,-getDayOfWeek(e))}function hasFlag(e,t){return(e&t)===t}function durationToDays(e){return+e/1e3/60/60/24}function durationToWeeks(e){return durationToDays(e)/7}function getMonthsBetween(e,t){if(e>t){var r=t;t=e,e=r}var n=getYear(e),a=getMonth(e),o=getYear(t),s=getMonth(t),i=o-n,u=0;return s>a?u=s-a:a>s&&(u=a-s,i-=1),u+=12*i}function getYearsBetween(e,t){return Math.abs(getYear(t)-getYear(e))}function daysToDuration(e){return 24*e*60*60*1e3}function plusDays(e,t){return new Date(+e+daysToDuration(t))}function plusWeeks(e,t){return plusDays(e,7*t)}function dayOfWeekMaskToArray(e){var t=[0,1,2,3,4,5,6],r=[];return t.forEach(function(t){hasFlag(e,dayOfWeekToFlag(t))&&r.push(t)}),r}function normalizeDirection(e){return 0>e?-1:1}function find(e,t){var r=findIndex(e,t);return r>-1?e[r]:null}function findIndex(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function repeat(e,t){for(var r="",n=0;t>n;n++)r+=e;return r}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){a=!0,o=u}finally{try{!n&&i["return"]&&i["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.getDate=getDate,exports.getDateFromParts=getDateFromParts,exports.resolveDate=resolveDate,exports.getInstance=getInstance,exports.resolveInstanceDate=resolveInstanceDate,exports.validateDate=validateDate,exports.getString=getString,exports.padZero=padZero,exports.getMonth=getMonth,exports.getDayOfMonth=getDayOfMonth,exports.getYear=getYear,exports.getDaysInMonth=getDaysInMonth,exports.getFirstDayOfMonth=getFirstDayOfMonth,exports.getDayOfWeek=getDayOfWeek,exports.getDayOfWeekFlag=getDayOfWeekFlag,exports.dayOfWeekToFlag=dayOfWeekToFlag,exports.dayOfWeekFromFlag=dayOfWeekFromFlag,exports.getSunday=getSunday,exports.hasFlag=hasFlag,exports.durationToDays=durationToDays,exports.durationToWeeks=durationToWeeks,exports.getMonthsBetween=getMonthsBetween,exports.getYearsBetween=getYearsBetween,exports.daysToDuration=daysToDuration,exports.plusDays=plusDays,exports.plusWeeks=plusWeeks,exports.dayOfWeekMaskToArray=dayOfWeekMaskToArray,exports.normalizeDirection=normalizeDirection,exports.find=find,exports.findIndex=findIndex,exports.repeat=repeat;var _InvalidDateError=require("./errors/InvalidDateError"),_InvalidDateError2=_interopRequireDefault(_InvalidDateError),DATE_PATTERN=/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/;

},{"./errors/InvalidDateError":11}]},{},[15])(15)
});
//# sourceMappingURL=dialga.min.js.map?23f8614c15ec38ad6e5e3933ee6f24d582bd532c
